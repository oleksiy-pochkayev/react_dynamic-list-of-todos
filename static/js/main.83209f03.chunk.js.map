{"version":3,"sources":["components/TodoList/TodoList.tsx","api/api.ts","components/CurrentUser/CurrentUser.tsx","App.tsx","index.tsx"],"names":["TodoList","state","titleFilter","selected","this","props","selectedUserId","preparedTodos","selectUser","filteredTodos","filter","todo","title","toLowerCase","includes","completed","className","type","name","value","onChange","event","setState","target","map","classNames","readOnly","checked","userId","onClick","id","React","PureComponent","getUser","fetch","then","response","json","CurrentUser","user","email","phone","prevProps","clear","App","todosFromServer","resetUserId","todos","Component","ReactDOM","render","document","getElementById"],"mappings":"uVAgBaA,EAAb,4MACEC,MAAQ,CACNC,YAAa,GACbC,SAAU,OAHd,4CAME,WAAU,IAAD,OACP,EAAsDC,KAAKC,MAAnDC,EAAR,EAAQA,eAAgBC,EAAxB,EAAwBA,cAAeC,EAAvC,EAAuCA,WACvC,EAAkCJ,KAAKH,MAA/BC,EAAR,EAAQA,YAAaC,EAArB,EAAqBA,SAEfM,EAAgBF,EAAcG,QAClC,SAACC,GAAD,OAAUA,EAAKC,MAAMC,cAAcC,SAASZ,EAAYW,iBACzC,cAAbV,GACqB,IAAnBQ,EAAKI,WAEc,IAAnBJ,EAAKI,WAES,QAAbZ,MAIP,OACE,sBAAKa,UAAU,WAAf,UACE,wCACA,sBAAKA,UAAU,2BAAf,UACE,uBACEC,KAAK,OACLC,KAAK,cACLC,MAAOf,KAAKH,MAAMC,YAClBkB,SAAU,SAACC,GAAD,OAAW,EAAKC,SAAS,CAAEpB,YAAamB,EAAME,OAAOJ,WAGjE,yBACED,KAAK,WACLE,SAAU,SAACC,GAAD,OAAW,EAAKC,SAAS,CAAEnB,SAAUkB,EAAME,OAAOJ,SAF9D,UAIE,wBAAQA,MAAM,MAAd,iBACA,wBAAQA,MAAM,YAAd,uBACA,wBAAQA,MAAM,SAAd,uBAGF,oBAAIH,UAAU,iBAAd,SACGP,EAAce,KAAI,SAAAb,GAAI,OACrB,qBACEK,UACES,IAAW,iBACT,CAAE,6BAA8Bd,EAAKI,YAH3C,UAOE,kCACE,uBAAOE,KAAK,WAAWS,UAAQ,EAACC,QAAShB,EAAKI,YAC9C,4BAAIJ,EAAKC,WAGX,wBACEI,UACES,IAAW,wBAAyB,SAClC,CAAE,kCAAmCd,EAAKiB,SAAWtB,IAEzDuB,QAAS,kBAAMrB,EAAWG,EAAKiB,SAC/BX,KAAK,SANP,SAQGN,EAAKiB,WAfHjB,EAAKmB,mBAhD1B,GAA8BC,IAAMC,eCN7B,SAASC,EAAQH,GACtB,OAAOI,MAAM,GAAD,OAHO,4CAGP,OAAmBJ,IAC5BK,MAAK,SAAAC,GAAQ,OAAIA,EAASC,U,UCElBC,EAAb,4MACErC,MAAQ,CACNsC,KAAM,CACJrB,KAAM,GACNY,GAAI,EACJU,MAAO,GACPC,MAAO,KANb,uDAUE,WAAqB,IAAD,OAClBR,EAAQ7B,KAAKC,MAAMuB,QAChBO,MAAK,SAACI,GACL,EAAKjB,SAAS,CAAEiB,cAbxB,gCAiBE,SAAmBG,GAAmB,IAAD,OAC/BA,EAAUd,SAAWxB,KAAKC,MAAMuB,QAClCK,EAAQ7B,KAAKC,MAAMuB,QAChBO,MAAK,SAACI,GACL,EAAKjB,SAAS,CAAEiB,cArB1B,oBA0BE,WACE,MAKInC,KAAKH,MAAMsC,KAJbT,EADF,EACEA,GACAW,EAFF,EAEEA,MACAD,EAHF,EAGEA,MACAtB,EAJF,EAIEA,KAGF,OACE,sBAAKF,UAAU,cAAf,UACE,oBAAIA,UAAU,qBAAd,yBACYc,KAGZ,oBAAId,UAAU,oBAAd,SACGE,IAEH,mBAAGF,UAAU,qBAAb,SACGwB,IAEH,mBAAGxB,UAAU,qBAAb,SACGyB,IAGH,wBACExB,KAAK,SACLY,QAASzB,KAAKC,MAAMsC,MAFtB,0BAlDR,GAAiCZ,IAAMC,eCFjCY,E,4MACJ3C,MAAe,CACbK,eAAgB,EAChBuC,gBAAiB,I,EAUnBrC,WAAa,SAACsB,GACZ,EAAKR,SAAS,CAAEhB,eAAgBwB,K,EAGlCgB,YAAc,WACZ,EAAKxB,SAAS,CAAEhB,eAAgB,K,uDAZlC,WAAqB,IAAD,OFdb4B,MAHI,2CAIRC,MAAK,SAAAC,GAAQ,OAAIA,EAASC,UEexBF,MAAK,SAAAY,GACJ,EAAKzB,SAAS,CAAEuB,gBAAiBE,S,oBAYvC,WACE,MAA4C3C,KAAKH,MAAzCK,EAAR,EAAQA,eAAgBuC,EAAxB,EAAwBA,gBAExB,OACE,sBAAK7B,UAAU,MAAf,UACE,qBAAKA,UAAU,eAAf,SACE,cAAC,EAAD,CACET,cAAesC,EACfrC,WAAYJ,KAAKI,WACjBF,eAAgBA,MAIpB,qBAAKU,UAAU,eAAf,SACE,qBAAKA,UAAU,yBAAf,SACGV,EACC,cAAC,EAAD,CAAasB,OAAQtB,EAAgBqC,MAAOvC,KAAK0C,cAC/C,8B,GAtCEf,IAAMiB,WA8CTJ,ICvDfK,IAASC,OACP,cAAC,EAAD,IACAC,SAASC,eAAe,W","file":"static/js/main.83209f03.chunk.js","sourcesContent":["/* eslint-disable jsx-a11y/label-has-associated-control */\nimport React from 'react';\nimport './TodoList.scss';\nimport classNames from 'classnames';\n\ntype Props = {\n  preparedTodos: Todo[];\n  selectUser: (id: number | null) => void;\n  selectedUserId: number | null;\n};\n\ntype State = {\n  titleFilter: string,\n  selected: string,\n};\n\nexport class TodoList extends React.PureComponent<Props, State> {\n  state = {\n    titleFilter: '',\n    selected: 'all',\n  };\n\n  render() {\n    const { selectedUserId, preparedTodos, selectUser } = this.props;\n    const { titleFilter, selected } = this.state;\n\n    const filteredTodos = preparedTodos.filter(\n      (todo) => todo.title.toLowerCase().includes(titleFilter.toLowerCase()) && (\n        selected === 'completed' ? (\n          todo.completed === true\n        ) : (\n          todo.completed === false\n        )\n        || selected === 'all'\n      ),\n    );\n\n    return (\n      <div className=\"TodoList\">\n        <h2>Todos:</h2>\n        <div className=\"TodoList__list-container\">\n          <input\n            type=\"text\"\n            name=\"titleFilter\"\n            value={this.state.titleFilter}\n            onChange={(event) => this.setState({ titleFilter: event.target.value })}\n          />\n\n          <select\n            name=\"selected\"\n            onChange={(event) => this.setState({ selected: event.target.value })}\n          >\n            <option value=\"all\">All</option>\n            <option value=\"completed\">Completed</option>\n            <option value=\"active\">Active</option>\n          </select>\n\n          <ul className=\"TodoList__list\">\n            {filteredTodos.map(todo => (\n              <li\n                className={\n                  classNames('TodoList__item',\n                    { 'TodoList__item--unchecked': !todo.completed })\n                }\n                key={todo.id}\n              >\n                <label>\n                  <input type=\"checkbox\" readOnly checked={todo.completed} />\n                  <p>{todo.title}</p>\n                </label>\n\n                <button\n                  className={\n                    classNames('TodoList__user-button', 'button',\n                      { 'TodoList__user-button--selected': todo.userId === selectedUserId })\n                  }\n                  onClick={() => selectUser(todo.userId)}\n                  type=\"button\"\n                >\n                  {todo.userId}\n                </button>\n              </li>\n            ))}\n          </ul>\n        </div>\n      </div>\n    );\n  }\n}\n","// eslint-disable-next-line\nconst API_URL = `https://mate.academy/students-api/todos`;\n\nexport function getTodos(): Promise<Todo[]> {\n  return fetch(API_URL)\n    .then(response => response.json());\n}\n\nconst USER_API_URL = 'https://mate.academy/students-api/users/';\n\nexport function getUser(id: number | null): Promise<User> {\n  return fetch(`${USER_API_URL}${id}`)\n    .then(response => response.json());\n}\n","/* eslint-disable react/no-unused-state */\nimport React from 'react';\nimport { getUser } from '../../api/api';\nimport './CurrentUser.scss';\n\ntype Props = {\n  userId: number | null;\n  clear: () => void;\n};\n\ntype State = {\n  user: User | null;\n};\n\nexport class CurrentUser extends React.PureComponent <Props, State> {\n  state = {\n    user: {\n      name: '',\n      id: 0,\n      email: '',\n      phone: '',\n    },\n  };\n\n  componentDidMount() {\n    getUser(this.props.userId)\n      .then((user) => {\n        this.setState({ user });\n      });\n  }\n\n  componentDidUpdate(prevProps: Props) {\n    if (prevProps.userId !== this.props.userId) {\n      getUser(this.props.userId)\n        .then((user) => {\n          this.setState({ user });\n        });\n    }\n  }\n\n  render() {\n    const {\n      id,\n      phone,\n      email,\n      name,\n    } = this.state.user;\n\n    return (\n      <div className=\"CurrentUser\">\n        <h2 className=\"CurrentUser__title\">\n          {`User #${id}`}\n        </h2>\n\n        <h3 className=\"CurrentUser__name\">\n          {name}\n        </h3>\n        <p className=\"CurrentUser__email\">\n          {email}\n        </p>\n        <p className=\"CurrentUser__phone\">\n          {phone}\n        </p>\n\n        <button\n          type=\"button\"\n          onClick={this.props.clear}\n        >\n          clear\n        </button>\n      </div>\n    );\n  }\n}\n","import React from 'react';\nimport './App.scss';\nimport './styles/general.scss';\nimport { TodoList } from './components/TodoList';\nimport { CurrentUser } from './components/CurrentUser';\nimport { getTodos } from './api/api';\n\ninterface State {\n  selectedUserId: number | null;\n  todosFromServer: Todo[];\n}\n\nclass App extends React.Component<{}, State> {\n  state: State = {\n    selectedUserId: 0,\n    todosFromServer: [],\n  };\n\n  componentDidMount() {\n    getTodos()\n      .then(todos => {\n        this.setState({ todosFromServer: todos });\n      });\n  }\n\n  selectUser = (id:number | null) => {\n    this.setState({ selectedUserId: id });\n  };\n\n  resetUserId = () => {\n    this.setState({ selectedUserId: 0 });\n  };\n\n  render() {\n    const { selectedUserId, todosFromServer } = this.state;\n\n    return (\n      <div className=\"App\">\n        <div className=\"App__sidebar\">\n          <TodoList\n            preparedTodos={todosFromServer}\n            selectUser={this.selectUser}\n            selectedUserId={selectedUserId}\n          />\n        </div>\n\n        <div className=\"App__content\">\n          <div className=\"App__content-container\">\n            {selectedUserId ? (\n              <CurrentUser userId={selectedUserId} clear={this.resetUserId} />\n            ) : 'No user selected'}\n          </div>\n        </div>\n      </div>\n    );\n  }\n}\n\nexport default App;\n","import ReactDOM from 'react-dom';\nimport App from './App';\n\nReactDOM.render(\n  <App />,\n  document.getElementById('root'),\n);\n"],"sourceRoot":""}